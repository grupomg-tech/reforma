[
  {
    "tipo": "inline",
    "index": 0,
    "conteudo": "\n        // Elementos do DOM\n        const forgotPasswordLink = document.getElementById('forgotPasswordLink');\n        const resetPasswordModal = document.getElementById('resetPasswordModal');\n        const closeModal = document.getElementById('closeModal');\n        const resetPasswordForm = document.getElementById('resetPasswordForm');\n        const loginForm = document.getElementById('loginForm');\n        const loginBtn = document.getElementById('loginBtn');\n        const loginBtnText = document.getElementById('loginBtnText');\n        const resetBtn = document.getElementById('resetBtn');\n        const resetBtnText = document.getElementById('resetBtnText');\n        const logo = document.getElementById('logo');\n\n        // Abrir modal de redefinir senha\n        forgotPasswordLink.addEventListener('click', function(e) {\n            e.preventDefault();\n            resetPasswordModal.style.display = 'block';\n        });\n\n        // Fechar modal\n        closeModal.addEventListener('click', function() {\n            resetPasswordModal.style.display = 'none';\n            resetPasswordForm.reset();\n        });\n\n        // Fechar modal clicando fora\n        window.addEventListener('click', function(e) {\n            if (e.target === resetPasswordModal) {\n                resetPasswordModal.style.display = 'none';\n                resetPasswordForm.reset();\n            }\n        });\n\n        // Handle do formul√°rio de login\n        loginForm.addEventListener('submit', function(e) {\n            loginBtn.disabled = true;\n            loginBtnText.innerHTML = '<div class=\"loading\"></div>';\n            \n            // Em um cen√°rio real, o Django processar√° o formul√°rio\n            // Aqui simulamos um delay para mostrar o loading\n            setTimeout(() => {\n                loginBtn.disabled = false;\n                loginBtnText.textContent = 'Entrar';\n            }, 2000);\n        });\n\n        // Handle do formul√°rio de redefinir senha\n        resetPasswordForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n            \n            const email = document.getElementById('resetEmail').value;\n            \n            if (!email) {\n                alert('Por favor, digite seu email.');\n                return;\n            }\n\n            resetBtn.disabled = true;\n            resetBtnText.innerHTML = '<div class=\"loading\"></div>';\n\n            // Simula√ß√£o de requisi√ß√£o AJAX para o Django\n            // Em produ√ß√£o, voc√™ faria uma requisi√ß√£o real para sua view\n            fetch('/accounts/reset-password/', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value\n                },\n                body: JSON.stringify({\n                    email: email\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                resetBtn.disabled = false;\n                resetBtnText.textContent = 'Enviar Instru√ß√µes';\n                \n                if (data.success) {\n                    alert('Instru√ß√µes enviadas para seu email!');\n                    resetPasswordModal.style.display = 'none';\n                    resetPasswordForm.reset();\n                } else {\n                    alert(data.message || 'Email n√£o encontrado. Verifique se voc√™ j√° possui uma conta.');\n                }\n            })\n            .catch(error => {\n                resetBtn.disabled = false;\n                resetBtnText.textContent = 'Enviar Instru√ß√µes';\n                alert('Erro ao processar solicita√ß√£o. Tente novamente.');\n            });\n        });\n\n        // Fallback para logo caso n√£o carregue\n        logo.addEventListener('error', function() {\n            this.style.display = 'none';\n        });\n\n        // Anima√ß√£o de entrada\n        document.addEventListener('DOMContentLoaded', function() {\n            const container = document.querySelector('.login-container');\n            container.style.opacity = '0';\n            container.style.transform = 'translateY(30px)';\n            \n            setTimeout(() => {\n                container.style.transition = 'all 0.6s ease';\n                container.style.opacity = '1';\n                container.style.transform = 'translateY(0)';\n            }, 100);\n        });\n\n        // Tecla Enter para submeter formul√°rios\n        document.addEventListener('keypress', function(e) {\n            if (e.key === 'Enter') {\n                if (resetPasswordModal.style.display === 'block') {\n                    resetPasswordForm.dispatchEvent(new Event('submit'));\n                }\n            }\n        });\n    "
  },
  {
    "tipo": "inline",
    "index": 0,
    "conteudo": "\n        // Elementos do DOM\n        const forgotPasswordLink = document.getElementById('forgotPasswordLink');\n        const resetPasswordModal = document.getElementById('resetPasswordModal');\n        const closeModal = document.getElementById('closeModal');\n        const resetPasswordForm = document.getElementById('resetPasswordForm');\n        const loginForm = document.getElementById('loginForm');\n        const loginBtn = document.getElementById('loginBtn');\n        const loginBtnText = document.getElementById('loginBtnText');\n        const resetBtn = document.getElementById('resetBtn');\n        const resetBtnText = document.getElementById('resetBtnText');\n        const logo = document.getElementById('logo');\n\n        // Abrir modal de redefinir senha\n        forgotPasswordLink.addEventListener('click', function(e) {\n            e.preventDefault();\n            resetPasswordModal.style.display = 'block';\n        });\n\n        // Fechar modal\n        closeModal.addEventListener('click', function() {\n            resetPasswordModal.style.display = 'none';\n            resetPasswordForm.reset();\n        });\n\n        // Fechar modal clicando fora\n        window.addEventListener('click', function(e) {\n            if (e.target === resetPasswordModal) {\n                resetPasswordModal.style.display = 'none';\n                resetPasswordForm.reset();\n            }\n        });\n\n        // Handle do formul√°rio de login\n        loginForm.addEventListener('submit', function(e) {\n            loginBtn.disabled = true;\n            loginBtnText.innerHTML = '<div class=\"loading\"></div>';\n            \n            // Em um cen√°rio real, o Django processar√° o formul√°rio\n            // Aqui simulamos um delay para mostrar o loading\n            setTimeout(() => {\n                loginBtn.disabled = false;\n                loginBtnText.textContent = 'Entrar';\n            }, 2000);\n        });\n\n        // Handle do formul√°rio de redefinir senha\n        resetPasswordForm.addEventListener('submit', function(e) {\n            e.preventDefault();\n            \n            const email = document.getElementById('resetEmail').value;\n            \n            if (!email) {\n                alert('Por favor, digite seu email.');\n                return;\n            }\n\n            resetBtn.disabled = true;\n            resetBtnText.innerHTML = '<div class=\"loading\"></div>';\n\n            // Simula√ß√£o de requisi√ß√£o AJAX para o Django\n            // Em produ√ß√£o, voc√™ faria uma requisi√ß√£o real para sua view\n            fetch('/accounts/reset-password/', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value\n                },\n                body: JSON.stringify({\n                    email: email\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                resetBtn.disabled = false;\n                resetBtnText.textContent = 'Enviar Instru√ß√µes';\n                \n                if (data.success) {\n                    alert('Instru√ß√µes enviadas para seu email!');\n                    resetPasswordModal.style.display = 'none';\n                    resetPasswordForm.reset();\n                } else {\n                    alert(data.message || 'Email n√£o encontrado. Verifique se voc√™ j√° possui uma conta.');\n                }\n            })\n            .catch(error => {\n                resetBtn.disabled = false;\n                resetBtnText.textContent = 'Enviar Instru√ß√µes';\n                alert('Erro ao processar solicita√ß√£o. Tente novamente.');\n            });\n        });\n\n        // Fallback para logo caso n√£o carregue\n        logo.addEventListener('error', function() {\n            this.style.display = 'none';\n        });\n\n        // Anima√ß√£o de entrada\n        document.addEventListener('DOMContentLoaded', function() {\n            const container = document.querySelector('.login-container');\n            container.style.opacity = '0';\n            container.style.transform = 'translateY(30px)';\n            \n            setTimeout(() => {\n                container.style.transition = 'all 0.6s ease';\n                container.style.opacity = '1';\n                container.style.transform = 'translateY(0)';\n            }, 100);\n        });\n\n        // Tecla Enter para submeter formul√°rios\n        document.addEventListener('keypress', function(e) {\n            if (e.key === 'Enter') {\n                if (resetPasswordModal.style.display === 'block') {\n                    resetPasswordForm.dispatchEvent(new Event('submit'));\n                }\n            }\n        });\n    "
  },
  {
    "tipo": "externo",
    "src": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  },
  {
    "tipo": "inline",
    "index": 1,
    "conteudo": "\ndocument.addEventListener('DOMContentLoaded', function() {\n    const filterForm = document.getElementById('filter-form');\n    const loadingSpinner = document.getElementById('loading-spinner');\n    const resultsContainer = document.getElementById('operacional-results');\n    const formInputs = filterForm.querySelectorAll('input, select');\n    const resetButton = filterForm.querySelector('button[type=\"reset\"]');\n\n    // ===============================\n    // üîπ 1. MANTER A ABA ATIVA AP√ìS RECARREGAR\n    // ===============================\n    const tabElements = document.querySelectorAll('button[data-bs-toggle=\"tab\"], a[data-bs-toggle=\"tab\"]');\n\n    tabElements.forEach(tab => {\n        tab.addEventListener('shown.bs.tab', function(event) {\n            // Salva a aba ativa no localStorage\n            localStorage.setItem('activeTab', event.target.getAttribute('data-bs-target'));\n        });\n    });\n\n    const activeTab = localStorage.getItem('activeTab');\n    if (activeTab) {\n        const triggerEl = document.querySelector(`[data-bs-target=\"${activeTab}\"]`);\n        if (triggerEl) {\n            const tab = new bootstrap.Tab(triggerEl);\n            tab.show();\n        }\n    }\n\n    // ===============================\n    // üîπ 2. FUN√á√ÉO DE DEBOUNCE\n    // ===============================\n    function debounce(func, wait) {\n        let timeout;\n        return function executedFunction(...args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => func(...args), wait);\n        };\n    }\n\n    // ===============================\n    // üîπ 3. FUN√á√ÉO AJAX DE FILTRAGEM\n    // ===============================\n    function loadOperationalData() {\n        loadingSpinner.classList.remove('d-none');\n\n        const formData = new FormData(filterForm);\n        const params = new URLSearchParams(formData);\n\n        fetch(`/dashboards/?${params.toString()}`, {\n            method: 'GET',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => {\n            if (!response.ok) throw new Error('Erro na requisi√ß√£o');\n            return response.text();\n        })\n        .then(html => {\n            resultsContainer.innerHTML = html;\n            loadingSpinner.classList.add('d-none');\n        })\n        .catch(error => {\n            console.error('Erro ao carregar dados:', error);\n            resultsContainer.innerHTML = `\n                <div class=\"alert alert-danger\">\n                    Erro ao carregar os dados. Tente novamente.\n                </div>`;\n            loadingSpinner.classList.add('d-none');\n        });\n    }\n\n    const debouncedLoad = debounce(loadOperationalData, 300);\n\n    // ===============================\n    // üîπ 4. EVENTOS DO FORMUL√ÅRIO\n    // ===============================\n\n    // üî∏ Bot√£o FILTRAR (envio AJAX)\n    filterForm.addEventListener('submit', function(event) {\n        event.preventDefault();\n        loadOperationalData();\n    });\n\n    // üî∏ Atualiza resultados ao alterar filtros\n    formInputs.forEach(input => {\n        if (input.type === 'text' || input.type === 'date') {\n            input.addEventListener('keyup', debouncedLoad);\n        } else {\n            input.addEventListener('change', loadOperationalData);\n        }\n    });\n\n    // üî∏ Bot√£o LIMPAR (reset AJAX)\n    resetButton.addEventListener('click', function(event) {\n        event.preventDefault(); // Evita reload\n        filterForm.reset();     // Reseta os campos\n\n        // Opcional: se quiser remover selects com \"choices\", redefina manualmente:\n        formInputs.forEach(input => {\n            if (input.tagName === 'SELECT') {\n                input.selectedIndex = 0;\n            }\n        });\n\n        // Recarrega todos os dados (sem filtros)\n        loadOperationalData();\n    });\n});\n"
  },
  {
    "tipo": "inline",
    "index": 2,
    "conteudo": "\n        // --- 1. L√≥gica para carregar Toasts na inicializa√ß√£o ---\n        //const toastElList = [].slice.call(document.querySelectorAll('.toast'));\n        //const toastList = toastElList.map(function(toastEl) {\n            // Cria uma inst√¢ncia do Toast e a exibe\n        //    const toast = new bootstrap.Toast(toastEl);\n        //    toast.show();\n        //    return toast;\n        //});\n\n        // Sidebar functionality\n        const sidebar = document.getElementById('sidebar');\n        const mainContent = document.getElementById('mainContent');\n        const toggleBtn = document.getElementById('toggleSidebar');\n        const toggleIcon = document.getElementById('toggleIcon');\n        const mobileOverlay = document.getElementById('mobileOverlay');\n        \n        let isCollapsed = false;\n        let isMobile = window.innerWidth <= 768;\n\n        // Toggle sidebar\n        function toggleSidebar() {\n            if (isMobile) {\n                sidebar.classList.toggle('show');\n                mobileOverlay.classList.toggle('show');\n            } else {\n                isCollapsed = !isCollapsed;\n                sidebar.classList.toggle('collapsed');\n                mainContent.classList.toggle('expanded');\n                toggleIcon.className = isCollapsed ? 'bi bi-chevron-right' : 'bi bi-chevron-left';\n                \n                // Close all dropdowns when collapsing\n                if (isCollapsed) {\n                    document.querySelectorAll('.submenu.show').forEach(submenu => {\n                        submenu.classList.remove('show');\n                    });\n                    document.querySelectorAll('.menu-arrow.rotated').forEach(arrow => {\n                        arrow.classList.remove('rotated');\n                    });\n                }\n            }\n        }\n\n        toggleBtn.addEventListener('click', toggleSidebar);\n        mobileOverlay.addEventListener('click', toggleSidebar);\n\n        // Dropdown functionality\n        document.querySelectorAll('[data-toggle]').forEach(link => {\n            link.addEventListener('click', function(e) {\n                e.preventDefault();\n                \n                if (isCollapsed && !isMobile) return;\n                \n                const target = this.getAttribute('data-toggle');\n                const submenu = document.getElementById(target + '-submenu');\n                const arrow = this.querySelector('.menu-arrow');\n                \n                // Close other dropdowns\n                document.querySelectorAll('.submenu.show').forEach(otherSubmenu => {\n                    if (otherSubmenu !== submenu) {\n                        otherSubmenu.classList.remove('show');\n                    }\n                });\n                \n                document.querySelectorAll('.menu-arrow.rotated').forEach(otherArrow => {\n                    if (otherArrow !== arrow) {\n                        otherArrow.classList.remove('rotated');\n                    }\n                });\n                \n                // Toggle current dropdown\n                submenu.classList.toggle('show');\n                arrow.classList.toggle('rotated');\n                \n                // Set active state\n                document.querySelectorAll('.menu-link.active').forEach(activeLink => {\n                    activeLink.classList.remove('active');\n                });\n                this.classList.add('active');\n            });\n        });\n\n        // User menu functionality\n        const userProfile = document.getElementById('userProfile');\n        const userMenu = document.getElementById('userMenu');\n        \n        userProfile.addEventListener('click', function(e) {\n            e.stopPropagation();\n            userMenu.classList.toggle('show');\n        });\n\n        // Close user menu when clicking outside\n        document.addEventListener('click', function() {\n            userMenu.classList.remove('show');\n        });\n\n        // Password toggle functionality\n        function togglePassword(fieldId) {\n            const field = document.getElementById(fieldId);\n            const icon = document.getElementById(fieldId + '_icon');\n            \n            if (field.type === 'password') {\n                field.type = 'text';\n                icon.className = 'bi bi-eye-slash';\n            } else {\n                field.type = 'password';\n                icon.className = 'bi bi-eye';\n            }\n        }\n\n        // Form validation\n        document.getElementById('profileForm').addEventListener('submit', function(e) {\n            const newPassword = document.getElementById('new_password').value;\n            const confirmPassword = document.getElementById('confirm_password').value;\n            const currentPassword = document.getElementById('current_password').value;\n            \n            // Only validate password if user is trying to change it\n            if (newPassword || confirmPassword) {\n                if (!currentPassword) {\n                    e.prevent"
  },
  {
    "tipo": "externo",
    "src": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  },
  {
    "tipo": "inline",
    "index": 1,
    "conteudo": "\ndocument.addEventListener('DOMContentLoaded', function() {\n    const filterForm = document.getElementById('filter-form');\n    const loadingSpinner = document.getElementById('loading-spinner');\n    const resultsContainer = document.getElementById('operacional-results');\n    const formInputs = filterForm.querySelectorAll('input, select');\n    const resetButton = filterForm.querySelector('button[type=\"reset\"]');\n\n    // ===============================\n    // üîπ 1. MANTER A ABA ATIVA AP√ìS RECARREGAR\n    // ===============================\n    const tabElements = document.querySelectorAll('button[data-bs-toggle=\"tab\"], a[data-bs-toggle=\"tab\"]');\n\n    tabElements.forEach(tab => {\n        tab.addEventListener('shown.bs.tab', function(event) {\n            // Salva a aba ativa no localStorage\n            localStorage.setItem('activeTab', event.target.getAttribute('data-bs-target'));\n        });\n    });\n\n    const activeTab = localStorage.getItem('activeTab');\n    if (activeTab) {\n        const triggerEl = document.querySelector(`[data-bs-target=\"${activeTab}\"]`);\n        if (triggerEl) {\n            const tab = new bootstrap.Tab(triggerEl);\n            tab.show();\n        }\n    }\n\n    // ===============================\n    // üîπ 2. FUN√á√ÉO DE DEBOUNCE\n    // ===============================\n    function debounce(func, wait) {\n        let timeout;\n        return function executedFunction(...args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => func(...args), wait);\n        };\n    }\n\n    // ===============================\n    // üîπ 3. FUN√á√ÉO AJAX DE FILTRAGEM\n    // ===============================\n    function loadOperationalData() {\n        loadingSpinner.classList.remove('d-none');\n\n        const formData = new FormData(filterForm);\n        const params = new URLSearchParams(formData);\n\n        fetch(`/dashboards/?${params.toString()}`, {\n            method: 'GET',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => {\n            if (!response.ok) throw new Error('Erro na requisi√ß√£o');\n            return response.text();\n        })\n        .then(html => {\n            resultsContainer.innerHTML = html;\n            loadingSpinner.classList.add('d-none');\n        })\n        .catch(error => {\n            console.error('Erro ao carregar dados:', error);\n            resultsContainer.innerHTML = `\n                <div class=\"alert alert-danger\">\n                    Erro ao carregar os dados. Tente novamente.\n                </div>`;\n            loadingSpinner.classList.add('d-none');\n        });\n    }\n\n    const debouncedLoad = debounce(loadOperationalData, 300);\n\n    // ===============================\n    // üîπ 4. EVENTOS DO FORMUL√ÅRIO\n    // ===============================\n\n    // üî∏ Bot√£o FILTRAR (envio AJAX)\n    filterForm.addEventListener('submit', function(event) {\n        event.preventDefault();\n        loadOperationalData();\n    });\n\n    // üî∏ Atualiza resultados ao alterar filtros\n    formInputs.forEach(input => {\n        if (input.type === 'text' || input.type === 'date') {\n            input.addEventListener('keyup', debouncedLoad);\n        } else {\n            input.addEventListener('change', loadOperationalData);\n        }\n    });\n\n    // üî∏ Bot√£o LIMPAR (reset AJAX)\n    resetButton.addEventListener('click', function(event) {\n        event.preventDefault(); // Evita reload\n        filterForm.reset();     // Reseta os campos\n\n        // Opcional: se quiser remover selects com \"choices\", redefina manualmente:\n        formInputs.forEach(input => {\n            if (input.tagName === 'SELECT') {\n                input.selectedIndex = 0;\n            }\n        });\n\n        // Recarrega todos os dados (sem filtros)\n        loadOperationalData();\n    });\n});\n"
  },
  {
    "tipo": "inline",
    "index": 2,
    "conteudo": "\n        // --- 1. L√≥gica para carregar Toasts na inicializa√ß√£o ---\n        //const toastElList = [].slice.call(document.querySelectorAll('.toast'));\n        //const toastList = toastElList.map(function(toastEl) {\n            // Cria uma inst√¢ncia do Toast e a exibe\n        //    const toast = new bootstrap.Toast(toastEl);\n        //    toast.show();\n        //    return toast;\n        //});\n\n        // Sidebar functionality\n        const sidebar = document.getElementById('sidebar');\n        const mainContent = document.getElementById('mainContent');\n        const toggleBtn = document.getElementById('toggleSidebar');\n        const toggleIcon = document.getElementById('toggleIcon');\n        const mobileOverlay = document.getElementById('mobileOverlay');\n        \n        let isCollapsed = false;\n        let isMobile = window.innerWidth <= 768;\n\n        // Toggle sidebar\n        function toggleSidebar() {\n            if (isMobile) {\n                sidebar.classList.toggle('show');\n                mobileOverlay.classList.toggle('show');\n            } else {\n                isCollapsed = !isCollapsed;\n                sidebar.classList.toggle('collapsed');\n                mainContent.classList.toggle('expanded');\n                toggleIcon.className = isCollapsed ? 'bi bi-chevron-right' : 'bi bi-chevron-left';\n                \n                // Close all dropdowns when collapsing\n                if (isCollapsed) {\n                    document.querySelectorAll('.submenu.show').forEach(submenu => {\n                        submenu.classList.remove('show');\n                    });\n                    document.querySelectorAll('.menu-arrow.rotated').forEach(arrow => {\n                        arrow.classList.remove('rotated');\n                    });\n                }\n            }\n        }\n\n        toggleBtn.addEventListener('click', toggleSidebar);\n        mobileOverlay.addEventListener('click', toggleSidebar);\n\n        // Dropdown functionality\n        document.querySelectorAll('[data-toggle]').forEach(link => {\n            link.addEventListener('click', function(e) {\n                e.preventDefault();\n                \n                if (isCollapsed && !isMobile) return;\n                \n                const target = this.getAttribute('data-toggle');\n                const submenu = document.getElementById(target + '-submenu');\n                const arrow = this.querySelector('.menu-arrow');\n                \n                // Close other dropdowns\n                document.querySelectorAll('.submenu.show').forEach(otherSubmenu => {\n                    if (otherSubmenu !== submenu) {\n                        otherSubmenu.classList.remove('show');\n                    }\n                });\n                \n                document.querySelectorAll('.menu-arrow.rotated').forEach(otherArrow => {\n                    if (otherArrow !== arrow) {\n                        otherArrow.classList.remove('rotated');\n                    }\n                });\n                \n                // Toggle current dropdown\n                submenu.classList.toggle('show');\n                arrow.classList.toggle('rotated');\n                \n                // Set active state\n                document.querySelectorAll('.menu-link.active').forEach(activeLink => {\n                    activeLink.classList.remove('active');\n                });\n                this.classList.add('active');\n            });\n        });\n\n        // User menu functionality\n        const userProfile = document.getElementById('userProfile');\n        const userMenu = document.getElementById('userMenu');\n        \n        userProfile.addEventListener('click', function(e) {\n            e.stopPropagation();\n            userMenu.classList.toggle('show');\n        });\n\n        // Close user menu when clicking outside\n        document.addEventListener('click', function() {\n            userMenu.classList.remove('show');\n        });\n\n        // Password toggle functionality\n        function togglePassword(fieldId) {\n            const field = document.getElementById(fieldId);\n            const icon = document.getElementById(fieldId + '_icon');\n            \n            if (field.type === 'password') {\n                field.type = 'text';\n                icon.className = 'bi bi-eye-slash';\n            } else {\n                field.type = 'password';\n                icon.className = 'bi bi-eye';\n            }\n        }\n\n        // Form validation\n        document.getElementById('profileForm').addEventListener('submit', function(e) {\n            const newPassword = document.getElementById('new_password').value;\n            const confirmPassword = document.getElementById('confirm_password').value;\n            const currentPassword = document.getElementById('current_password').value;\n            \n            // Only validate password if user is trying to change it\n            if (newPassword || confirmPassword) {\n                if (!currentPassword) {\n                    e.prevent"
  },
  {
    "tipo": "externo",
    "src": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  },
  {
    "tipo": "inline",
    "index": 1,
    "conteudo": "\ndocument.addEventListener('DOMContentLoaded', function() {\n    const filterForm = document.getElementById('filter-form');\n    const loadingSpinner = document.getElementById('loading-spinner');\n    const resultsContainer = document.getElementById('operacional-results');\n    const formInputs = filterForm.querySelectorAll('input, select');\n    const resetButton = filterForm.querySelector('button[type=\"reset\"]');\n\n    // ===============================\n    // üîπ 1. MANTER A ABA ATIVA AP√ìS RECARREGAR\n    // ===============================\n    const tabElements = document.querySelectorAll('button[data-bs-toggle=\"tab\"], a[data-bs-toggle=\"tab\"]');\n\n    tabElements.forEach(tab => {\n        tab.addEventListener('shown.bs.tab', function(event) {\n            // Salva a aba ativa no localStorage\n            localStorage.setItem('activeTab', event.target.getAttribute('data-bs-target'));\n        });\n    });\n\n    const activeTab = localStorage.getItem('activeTab');\n    if (activeTab) {\n        const triggerEl = document.querySelector(`[data-bs-target=\"${activeTab}\"]`);\n        if (triggerEl) {\n            const tab = new bootstrap.Tab(triggerEl);\n            tab.show();\n        }\n    }\n\n    // ===============================\n    // üîπ 2. FUN√á√ÉO DE DEBOUNCE\n    // ===============================\n    function debounce(func, wait) {\n        let timeout;\n        return function executedFunction(...args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => func(...args), wait);\n        };\n    }\n\n    // ===============================\n    // üîπ 3. FUN√á√ÉO AJAX DE FILTRAGEM\n    // ===============================\n    function loadOperationalData() {\n        loadingSpinner.classList.remove('d-none');\n\n        const formData = new FormData(filterForm);\n        const params = new URLSearchParams(formData);\n\n        fetch(`/dashboards/?${params.toString()}`, {\n            method: 'GET',\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        })\n        .then(response => {\n            if (!response.ok) throw new Error('Erro na requisi√ß√£o');\n            return response.text();\n        })\n        .then(html => {\n            resultsContainer.innerHTML = html;\n            loadingSpinner.classList.add('d-none');\n        })\n        .catch(error => {\n            console.error('Erro ao carregar dados:', error);\n            resultsContainer.innerHTML = `\n                <div class=\"alert alert-danger\">\n                    Erro ao carregar os dados. Tente novamente.\n                </div>`;\n            loadingSpinner.classList.add('d-none');\n        });\n    }\n\n    const debouncedLoad = debounce(loadOperationalData, 300);\n\n    // ===============================\n    // üîπ 4. EVENTOS DO FORMUL√ÅRIO\n    // ===============================\n\n    // üî∏ Bot√£o FILTRAR (envio AJAX)\n    filterForm.addEventListener('submit', function(event) {\n        event.preventDefault();\n        loadOperationalData();\n    });\n\n    // üî∏ Atualiza resultados ao alterar filtros\n    formInputs.forEach(input => {\n        if (input.type === 'text' || input.type === 'date') {\n            input.addEventListener('keyup', debouncedLoad);\n        } else {\n            input.addEventListener('change', loadOperationalData);\n        }\n    });\n\n    // üî∏ Bot√£o LIMPAR (reset AJAX)\n    resetButton.addEventListener('click', function(event) {\n        event.preventDefault(); // Evita reload\n        filterForm.reset();     // Reseta os campos\n\n        // Opcional: se quiser remover selects com \"choices\", redefina manualmente:\n        formInputs.forEach(input => {\n            if (input.tagName === 'SELECT') {\n                input.selectedIndex = 0;\n            }\n        });\n\n        // Recarrega todos os dados (sem filtros)\n        loadOperationalData();\n    });\n});\n"
  },
  {
    "tipo": "inline",
    "index": 2,
    "conteudo": "\n        // --- 1. L√≥gica para carregar Toasts na inicializa√ß√£o ---\n        //const toastElList = [].slice.call(document.querySelectorAll('.toast'));\n        //const toastList = toastElList.map(function(toastEl) {\n            // Cria uma inst√¢ncia do Toast e a exibe\n        //    const toast = new bootstrap.Toast(toastEl);\n        //    toast.show();\n        //    return toast;\n        //});\n\n        // Sidebar functionality\n        const sidebar = document.getElementById('sidebar');\n        const mainContent = document.getElementById('mainContent');\n        const toggleBtn = document.getElementById('toggleSidebar');\n        const toggleIcon = document.getElementById('toggleIcon');\n        const mobileOverlay = document.getElementById('mobileOverlay');\n        \n        let isCollapsed = false;\n        let isMobile = window.innerWidth <= 768;\n\n        // Toggle sidebar\n        function toggleSidebar() {\n            if (isMobile) {\n                sidebar.classList.toggle('show');\n                mobileOverlay.classList.toggle('show');\n            } else {\n                isCollapsed = !isCollapsed;\n                sidebar.classList.toggle('collapsed');\n                mainContent.classList.toggle('expanded');\n                toggleIcon.className = isCollapsed ? 'bi bi-chevron-right' : 'bi bi-chevron-left';\n                \n                // Close all dropdowns when collapsing\n                if (isCollapsed) {\n                    document.querySelectorAll('.submenu.show').forEach(submenu => {\n                        submenu.classList.remove('show');\n                    });\n                    document.querySelectorAll('.menu-arrow.rotated').forEach(arrow => {\n                        arrow.classList.remove('rotated');\n                    });\n                }\n            }\n        }\n\n        toggleBtn.addEventListener('click', toggleSidebar);\n        mobileOverlay.addEventListener('click', toggleSidebar);\n\n        // Dropdown functionality\n        document.querySelectorAll('[data-toggle]').forEach(link => {\n            link.addEventListener('click', function(e) {\n                e.preventDefault();\n                \n                if (isCollapsed && !isMobile) return;\n                \n                const target = this.getAttribute('data-toggle');\n                const submenu = document.getElementById(target + '-submenu');\n                const arrow = this.querySelector('.menu-arrow');\n                \n                // Close other dropdowns\n                document.querySelectorAll('.submenu.show').forEach(otherSubmenu => {\n                    if (otherSubmenu !== submenu) {\n                        otherSubmenu.classList.remove('show');\n                    }\n                });\n                \n                document.querySelectorAll('.menu-arrow.rotated').forEach(otherArrow => {\n                    if (otherArrow !== arrow) {\n                        otherArrow.classList.remove('rotated');\n                    }\n                });\n                \n                // Toggle current dropdown\n                submenu.classList.toggle('show');\n                arrow.classList.toggle('rotated');\n                \n                // Set active state\n                document.querySelectorAll('.menu-link.active').forEach(activeLink => {\n                    activeLink.classList.remove('active');\n                });\n                this.classList.add('active');\n            });\n        });\n\n        // User menu functionality\n        const userProfile = document.getElementById('userProfile');\n        const userMenu = document.getElementById('userMenu');\n        \n        userProfile.addEventListener('click', function(e) {\n            e.stopPropagation();\n            userMenu.classList.toggle('show');\n        });\n\n        // Close user menu when clicking outside\n        document.addEventListener('click', function() {\n            userMenu.classList.remove('show');\n        });\n\n        // Password toggle functionality\n        function togglePassword(fieldId) {\n            const field = document.getElementById(fieldId);\n            const icon = document.getElementById(fieldId + '_icon');\n            \n            if (field.type === 'password') {\n                field.type = 'text';\n                icon.className = 'bi bi-eye-slash';\n            } else {\n                field.type = 'password';\n                icon.className = 'bi bi-eye';\n            }\n        }\n\n        // Form validation\n        document.getElementById('profileForm').addEventListener('submit', function(e) {\n            const newPassword = document.getElementById('new_password').value;\n            const confirmPassword = document.getElementById('confirm_password').value;\n            const currentPassword = document.getElementById('current_password').value;\n            \n            // Only validate password if user is trying to change it\n            if (newPassword || confirmPassword) {\n                if (!currentPassword) {\n                    e.prevent"
  }
]